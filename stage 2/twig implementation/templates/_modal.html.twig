<div id="{{ id }}" class="modal-backdrop" role="presentation" style="display:none;">
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="{{ ariaLabel }}">
        {{ content|raw }}
    </div>
</div>

<style>
.modal-backdrop {
  position:fixed;
  inset:0;
  background: rgba(2,6,23,0.4);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.modal-card {
  width: 100%;
  max-width: 720px;
  background:white;
  border-radius: 12px;
  padding: 18px;
}
</style>

<script>
function openModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'flex';
        // Add event listener to close when clicking outside (on the backdrop)
        modal.onclick = (e) => {
            if (e.target === modal) {
                closeModal(modalId);
            }
        };
        // Stop clicks inside the modal card from closing it
        modal.querySelector('.modal-card').onclick = (e) => e.stopPropagation();
    }
}

function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        modal.style.display = 'none';
        modal.onclick = null; // Clean up backdrop listener
    }
}

// Global hook: e.g., to open the 'new ticket' modal:
// document.getElementById('newTicketBtn').onclick = () => openModal('newTicketModal');
</script>